{"title":"react Hooks","uid":"fa08fd35cb36d755ed7492a61cf66138","slug":"react-hook","date":"2021-04-06T14:27:28.370Z","updated":"2021-04-06T14:53:18.661Z","comments":true,"path":"api/articles/react-hook.json","keywords":null,"cover":"http://img-blog.csdnimg.cn/20200716163610402.jpg","content":"<h2 id=\"useState\"><a href=\"#useState\" class=\"headerlink\" title=\"useState\"></a>useState</h2><span id=\"more\"></span>\n\n<h3 id=\"每次渲染都是一个独立的闭包\"><a href=\"#每次渲染都是一个独立的闭包\" class=\"headerlink\" title=\"每次渲染都是一个独立的闭包\"></a>每次渲染都是一个独立的闭包</h3><ul>\n<li>每次渲染都会有自己的 props 和 state</li>\n<li>每次渲染后会有自己的时间处理函数</li>\n</ul>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">function Counter() &#123;\n  let [num, setNum] &#x3D; useState(0);\n  function alertNum() &#123;\n    setTimeout(() &#x3D;&gt; &#123;\n      alert(num);\n    &#125;, 3000);\n  &#125;\n  return (\n    &lt;div&gt;\n      &lt;p&gt;&#123;num&#125;&lt;&#x2F;p&gt;\n      &lt;button onClick&#x3D;&#123;() &#x3D;&gt; setNum&#125;&gt;&lt;&#x2F;button&gt;\n      &lt;button onClick&#x3D;&#123;alertNum&#125;&gt;alert&lt;&#x2F;button&gt;\n    &lt;&#x2F;div&gt;\n  );\n&#125;</code></pre>\n\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">function Counter() &#123;\n  let [num, setNum] &#x3D; useState(0);\n  function lazy()&#123;\n    setTimeout((\n      &#x2F;&#x2F; 有差别\n -     setNum(num + 1);\n -     setNum(num &#x3D;&gt; num + 1);\n    )&#x3D;&gt;&#123;&#125;, 3000)\n  &#125;\n  return (\n    &lt;div&gt;\n      &lt;p&gt;&#123;num&#125;&lt;&#x2F;p&gt;\n      &lt;button onClick&#x3D;&#123;() &#x3D;&gt; setNum&#125;&gt;&lt;&#x2F;button&gt;\n      &lt;button onClick&#x3D;&#123;lazy&#125;&gt;lazy&lt;&#x2F;button&gt;\n    &lt;&#x2F;div&gt;\n  );\n&#125;</code></pre>\n\n<p>惰性初始化</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">function Counter(props) &#123;\n  let [counter, setCounter] &#x3D; useState(function () &#123;\n    return &#123; num: props.num &#125;;\n  &#125;);\n  return (\n    &lt;div&gt;\n      &lt;p&gt;&#123;counter.num&#125;&lt;&#x2F;p&gt;\n      &lt;button onClick&#x3D;&#123;() &#x3D;&gt; setCounter&#125;&gt;&lt;&#x2F;button&gt;\n    &lt;&#x2F;div&gt;\n  );\n&#125;</code></pre>\n\n<h2 id=\"efect\"><a href=\"#efect\" class=\"headerlink\" title=\"efect\"></a>efect</h2><p>每次我们重新渲染 都会生成新的 effect 替换之前的 effect 属于渲染结果的一部分 effect 属于特定的渲染</p>\n","feature":null,"text":"useState 每次渲染都是一个独立的闭包 每次渲染都会有自己的 props 和 state 每次渲染后会有自己的时间处理函数 function Counter() &#123; let [num, setNum] &#x3D; useState(0); function al...","link":"","photos":[],"count_time":{"symbolsCount":"1.5k","symbolsTime":"1 mins."},"categories":[{"name":"React","slug":"React","count":8,"path":"api/categories/React.json"}],"tags":[{"name":"React","slug":"React","count":8,"path":"api/tags/React.json"},{"name":"react hook","slug":"react-hook","count":1,"path":"api/tags/react-hook.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#useState\"><span class=\"toc-text\">useState</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%AF%8F%E6%AC%A1%E6%B8%B2%E6%9F%93%E9%83%BD%E6%98%AF%E4%B8%80%E4%B8%AA%E7%8B%AC%E7%AB%8B%E7%9A%84%E9%97%AD%E5%8C%85\"><span class=\"toc-text\">每次渲染都是一个独立的闭包</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#efect\"><span class=\"toc-text\">efect</span></a></li></ol>","author":{"name":"麦当","avatar":"https://cdn.jsdelivr.net/gh/Maidang1/image//image/avatar.jpg","link":""},"mapped":true,"prev_post":{"title":"react-router-dom","uid":"50552075ed1d1cbaae410e21993db179","slug":"react-router-dom","date":"2021-04-06T14:27:28.383Z","updated":"2021-04-06T14:52:45.563Z","comments":true,"path":"api/articles/react-router-dom.json","keywords":null,"cover":"http://img-blog.csdnimg.cn/20200716163610402.jpg","text":"BrowserRouter import React, &#123; Component &#125; from &#39;react&#39;; import Context from &#39;.&#x2F;context&#39;; let pushState &#x3D;...","link":"","photos":[],"count_time":{"symbolsCount":"9.7k","symbolsTime":"9 mins."},"categories":[{"name":"React","slug":"React","count":8,"path":"api/categories/React.json"}],"tags":[{"name":"React","slug":"React","count":8,"path":"api/tags/React.json"},{"name":"react-router-dom","slug":"react-router-dom","count":1,"path":"api/tags/react-router-dom.json"}],"author":{"name":"麦当","avatar":"https://cdn.jsdelivr.net/gh/Maidang1/image//image/avatar.jpg","link":""}},"next_post":{"title":"react base","uid":"b9a37f021de474295d3010955ace362e","slug":"react-base","date":"2021-04-06T14:27:28.342Z","updated":"2021-04-06T14:52:27.491Z","comments":true,"path":"api/articles/react-base.json","keywords":null,"cover":"http://img-blog.csdnimg.cn/20200716163610402.jpg","text":"生命周期(老版) import React, &#123; Component &#125; from &#39;react&#39;; class LifeCycle extends Component &#123; &#x2F;**组件的静态属性 *&#x2F; static...","link":"","photos":[],"count_time":{"symbolsCount":"15k","symbolsTime":"13 mins."},"categories":[{"name":"React","slug":"React","count":8,"path":"api/categories/React.json"}],"tags":[{"name":"React","slug":"React","count":8,"path":"api/tags/React.json"}],"author":{"name":"麦当","avatar":"https://cdn.jsdelivr.net/gh/Maidang1/image//image/avatar.jpg","link":""}}}